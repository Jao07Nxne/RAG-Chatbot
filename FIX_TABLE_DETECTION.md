# üîß ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á Curriculum Table Detection

## ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**:
```
üìù ‡πÉ‡∏ä‡πâ General Strategy (1000/200)  ‚Üê ‚ùå ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô Table Strategy!
   ‚Üí ‡πÑ‡∏î‡πâ 40 chunks
   üéØ ‡∏û‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£: ‡∏õ‡∏µ 1 ‡∏†‡∏≤‡∏Ñ 1 (6 ‡∏ß‡∏¥‡∏ä‡∏≤)  ‚Üê ‡∏°‡∏µ‡∏ï‡∏≤‡∏£‡∏≤‡∏á ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏à‡∏±‡∏ö!
```

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**: `_is_curriculum_table()` ‡πÑ‡∏°‡πà‡∏à‡∏±‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏û‡∏£‡∏≤‡∏∞:

### 1. Regex ‡πÄ‡∏Ç‡πâ‡∏°‡∏á‡∏ß‡∏î‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
```python
# Before (‡∏ú‡∏¥‡∏î)
has_year_semester = bool(re.search(
    r'‡∏õ‡∏µ‡∏ó‡∏µ‡πà\s*\d+.*‡∏†‡∏≤‡∏Ñ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏µ‡πà\s*\d+',  # ‚Üê ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á 2 ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß!
    text
))
```

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: PDF ‡∏≠‡∏≤‡∏à‡∏°‡∏µ:
- ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏û‡∏¥‡πÄ‡∏®‡∏©: `"‡∏õ‡∏µ ‡∏ó‡∏µ‡πà 1"` ‡πÅ‡∏ó‡∏ô `"‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1"`
- ‡∏Ç‡∏∂‡πâ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÉ‡∏´‡∏°‡πà: 
  ```
  ‡∏õ‡∏µ‡∏ó‡∏µ‡πà 1
  ‡∏†‡∏≤‡∏Ñ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏µ‡πà 1  ‚Üê ‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏ô‡∏•‡∏∞‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î!
  ```
- Pattern ‡πÑ‡∏°‡πà‡∏à‡∏±‡∏ö: `".*"` ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏° newline

---

### 2. ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏°‡∏á‡∏ß‡∏î
```python
# Before (‡∏ú‡∏¥‡∏î)
score = sum([...])
is_table = score >= 3  # ‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô 3/4 ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç
```

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤**: ‡∏ñ‡πâ‡∏≤ regex ‡πÑ‡∏°‡πà‡∏à‡∏±‡∏ö year_semester ‚Üí score = 2 ‚Üí ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô!

---

## ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

### Fix 1: ‡πÅ‡∏¢‡∏Å‡πÄ‡∏ä‡πá‡∏Ñ year ‡πÅ‡∏•‡∏∞ semester

**Before** (‡πÄ‡∏Ç‡πâ‡∏°‡∏á‡∏ß‡∏î‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ):
```python
has_year_semester = bool(re.search(
    r'‡∏õ‡∏µ‡∏ó‡∏µ‡πà\s*\d+.*‡∏†‡∏≤‡∏Ñ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏µ‡πà\s*\d+',  # ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà‡πÉ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
    text
))
```

**After** (‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô):
```python
# ‡πÅ‡∏¢‡∏Å‡πÄ‡∏ä‡πá‡∏Ñ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ï‡∏±‡∏ß
has_year = bool(re.search(
    r'‡∏õ‡∏µ\s*‡∏ó‡∏µ‡πà\s*\d+|‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ\s*\d+',  # ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö
    text,
    re.IGNORECASE
))

has_semester = bool(re.search(
    r'‡∏†‡∏≤‡∏Ñ\s*‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤\s*‡∏ó‡∏µ‡πà\s*\d+|‡∏†‡∏≤‡∏Ñ\s*\d+|‡πÄ‡∏ó‡∏≠‡∏°\s*\d+',  # ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö
    text,
    re.IGNORECASE
))

has_year_semester = has_year and has_semester  # ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏π‡πà (‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)
```

**‡∏Ç‡πâ‡∏≠‡∏î‡∏µ**:
- ‚úÖ ‡∏à‡∏±‡∏ö‡πÑ‡∏î‡πâ‡πÅ‡∏°‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏ô‡∏•‡∏∞‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏û‡∏¥‡πÄ‡∏®‡∏©: `"‡∏õ‡∏µ ‡∏ó‡∏µ‡πà 1"`, `"‡∏†‡∏≤‡∏Ñ ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏ó‡∏µ‡πà 1"`
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏≠‡∏∑‡πà‡∏ô: `"‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ 1"`, `"‡∏†‡∏≤‡∏Ñ 1"`, `"‡πÄ‡∏ó‡∏≠‡∏° 1"`

---

### Fix 2: ‡∏•‡∏î‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô

**Before** (‡πÄ‡∏Ç‡πâ‡∏°‡∏á‡∏ß‡∏î‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ):
```python
is_table = score >= 3  # ‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô 3/4 ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç
```

**After** (‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô):
```python
# ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏£‡∏´‡∏±‡∏™‡∏ß‡∏¥‡∏ä‡∏≤ 3+ ‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï ‚Üí ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á!
is_table = (score >= 2 and has_multiple_courses) or score >= 3
```

**Logic**:
```python
# ‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà 1: score >= 3 ‚Üí ‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
if score >= 3:
    is_table = True

# ‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà 2: score = 2 ‡πÅ‡∏ï‡πà‡∏°‡∏µ‡∏£‡∏´‡∏±‡∏™‡∏ß‡∏¥‡∏ä‡∏≤ 3+ ‚Üí ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á!
elif score == 2 and has_multiple_courses:
    is_table = True
    
# ‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà 3: score < 2 ‚Üí ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ï‡∏≤‡∏£‡∏≤‡∏á
else:
    is_table = False
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á**:
```
‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç:
1. has_year_semester = False  (regex ‡πÑ‡∏°‡πà‡∏à‡∏±‡∏ö)
2. has_multiple_courses = True (‡∏°‡∏µ 6 ‡∏£‡∏´‡∏±‡∏™‡∏ß‡∏¥‡∏ä‡∏≤)
3. has_credits = True          (‡∏°‡∏µ "‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï")
4. has_total = False           (‡πÑ‡∏°‡πà‡∏°‡∏µ "‡∏£‡∏ß‡∏°")

score = 2  (‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏Ñ‡πà 2 ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç)

# Before:
is_table = score >= 3  ‚Üí False ‚ùå

# After:
is_table = (score >= 2 and has_multiple_courses) or score >= 3
         = (2 >= 2 and True) or (2 >= 3)
         = True or False
         = True ‚úÖ
```

---

### Fix 3: ‡πÄ‡∏û‡∏¥‡πà‡∏° Debug Logs

**‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô `dynamic_text_splitter.py`**:
```python
def split_text(self, text: str, page_num: int = None):
    # üîç Debug: ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
    preview = text[:200].replace('\n', ' ')
    print(f"\nüîç ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏≥‡πÅ‡∏ô‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤...")
    print(f"   Preview: {preview}...")
    
    # ‡∏à‡∏≥‡πÅ‡∏ô‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤
    content_type = ContentClassifier.classify(text, page_num)
    
    print(f"   ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: {content_type}")
```

**‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå**:
- ‡πÄ‡∏´‡πá‡∏ô preview ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏≥‡πÅ‡∏ô‡∏Å
- ‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤ classifier ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏∞‡πÑ‡∏£
- ‡∏á‡πà‡∏≤‡∏¢‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£ debug

---

## ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á

### Before (‡∏ú‡∏¥‡∏î):
```
üéØ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏ö‡πà‡∏á chunks ‡∏î‡πâ‡∏ß‡∏¢ Dynamic Strategy...
üìù ‡πÉ‡∏ä‡πâ General Strategy (1000/200)     ‚Üê ‚ùå ‡∏ú‡∏¥‡∏î!
   ‚Üí ‡πÑ‡∏î‡πâ 40 chunks ‡∏à‡∏≤‡∏Å 'general'
   
   üéØ ‡∏û‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£: ‡∏õ‡∏µ 1 ‡∏†‡∏≤‡∏Ñ 1 (6 ‡∏ß‡∏¥‡∏ä‡∏≤) ‡πÉ‡∏ô chunk 31
   üéØ ‡∏û‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£: ‡∏õ‡∏µ 2 ‡∏†‡∏≤‡∏Ñ 1 (3 ‡∏ß‡∏¥‡∏ä‡∏≤) ‡πÉ‡∏ô chunk 33
   
   ‚Üê ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡∏î ‡πÄ‡∏õ‡πá‡∏ô chunks ‡πÄ‡∏•‡πá‡∏Å‡πÜ!
```

**‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö**:
- Chunk size = 1000 chars
- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á 1 ‡∏†‡∏≤‡∏Ñ = ~2500 chars
- ‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡∏î‡πÄ‡∏õ‡πá‡∏ô 2-3 chunks
- LLM ‡∏ï‡∏≠‡∏ö‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö

---

### After (‡∏ñ‡∏π‡∏Å):
```
üéØ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏ö‡πà‡∏á chunks ‡∏î‡πâ‡∏ß‡∏¢ Dynamic Strategy...

üîç ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏≥‡πÅ‡∏ô‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤...
   Preview: ‡∏õ‡∏µ ‡∏ó‡∏µ‡πà 1 ‡∏†‡∏≤‡∏Ñ ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏ó‡∏µ‡πà 1  05506011 ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°... ‚Üê ‡∏°‡∏µ‡∏£‡∏´‡∏±‡∏™‡∏ß‡∏¥‡∏ä‡∏≤!
   ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£ (‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô 2/4, ‡∏£‡∏´‡∏±‡∏™‡∏ß‡∏¥‡∏ä‡∏≤ 6 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)
   ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: curriculum_table                                     ‚Üê ‚úÖ ‡∏ñ‡∏π‡∏Å!

üìä ‡πÉ‡∏ä‡πâ Table Strategy (3000/500)                                  ‚Üê ‚úÖ ‡∏ñ‡∏π‡∏Å!
   ‚Üí ‡πÑ‡∏î‡πâ 1 chunks ‡∏à‡∏≤‡∏Å 'curriculum_table' (‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ 2850 chars/chunk)
   
   üéØ ‡∏û‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£: ‡∏õ‡∏µ 1 ‡∏†‡∏≤‡∏Ñ 1 (8 ‡∏ß‡∏¥‡∏ä‡∏≤) ‡πÉ‡∏ô chunk 0          ‚Üê ‚úÖ ‡∏Ñ‡∏£‡∏ö!
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**:
- ‚úÖ Classifier ‡∏à‡∏±‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‚úÖ ‡πÉ‡∏ä‡πâ Table Strategy (3000/500)
- ‚úÖ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏£‡∏ö‡πÉ‡∏ô 1 chunk
- ‚úÖ LLM ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏£‡∏ö 8 ‡∏ß‡∏¥‡∏ä‡∏≤

---

## ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:
1. Restart Streamlit
2. ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏¥‡∏°
3. ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà
4. ‡∏î‡∏π debug logs

### ‡∏î‡∏π Logs ‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:

**‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤ Classifier ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å**:
```
üîç ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏≥‡πÅ‡∏ô‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤...
   Preview: ‡∏õ‡∏µ ‡∏ó‡∏µ‡πà 2 ‡∏†‡∏≤‡∏Ñ ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏ó‡∏µ‡πà 1...
   ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£ (‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô X/4, ‡∏£‡∏´‡∏±‡∏™‡∏ß‡∏¥‡∏ä‡∏≤ Y ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)
   ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: curriculum_table  ‚Üê ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ!
```

**‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡πÉ‡∏ä‡πâ Strategy ‡∏ñ‡∏π‡∏Å**:
```
üìä ‡πÉ‡∏ä‡πâ Table Strategy (3000/500)  ‚Üê ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ!
   ‚Üí ‡πÑ‡∏î‡πâ 1 chunks                 ‚Üê 1 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á = 1 chunk
```

**‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏£‡∏ö**:
```
üéØ ‡∏û‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£: ‡∏õ‡∏µ 2 ‡∏†‡∏≤‡∏Ñ 1 (8 ‡∏ß‡∏¥‡∏ä‡∏≤)  ‚Üê ‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏£‡∏ö 8 ‡∏ß‡∏¥‡∏ä‡∏≤!
```

---

### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°:
```
"‡∏õ‡∏µ‡∏ó‡∏µ‡πà 2 ‡∏†‡∏≤‡∏Ñ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏µ‡πà 1 ‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á"
```

**‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á**:
```
‚úÖ ‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏ö 8 ‡∏ß‡∏¥‡∏ä‡∏≤ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏´‡∏±‡∏™ ‡∏ä‡∏∑‡πà‡∏≠ ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï

‡πÉ‡∏ô‡∏õ‡∏µ‡∏ó‡∏µ‡πà 2 ‡∏†‡∏≤‡∏Ñ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏µ‡πà 1 ‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î 8 ‡∏ß‡∏¥‡∏ä‡∏≤ ‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:

‚Ä¢ 05506211 ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Data Structures) - 3 ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï
‚Ä¢ 05506221 ‡∏£‡∏∞‡∏ö‡∏ö‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Database Systems) - 3 ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï
‚Ä¢ 05506231 ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏£‡∏∞‡∏ö‡∏ö - 3 ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï
‚Ä¢ 05506241 ‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå - 3 ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï
‚Ä¢ 05506251 ‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏ß‡πá‡∏ö - 3 ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï
‚Ä¢ 05513231 ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ - 3 ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï
‚Ä¢ ‡∏´‡∏°‡∏ß‡∏î‡∏ß‡∏¥‡∏ä‡∏≤‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ 2 ‡∏ß‡∏¥‡∏ä‡∏≤ - 6 ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï

‡∏£‡∏ß‡∏° 24 ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏¥‡∏ï
```

---

## Troubleshooting

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏¢‡∏±‡∏á‡∏à‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô "general"
```
üìù ‡πÉ‡∏ä‡πâ General Strategy (1000/200)
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
1. ‡∏î‡∏π debug logs:
   ```
   üîç Preview: ...  ‚Üê ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏°‡∏µ "‡∏õ‡∏µ", "‡∏†‡∏≤‡∏Ñ", ‡∏£‡∏´‡∏±‡∏™‡∏ß‡∏¥‡∏ä‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
   ```

2. ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ ‚Üí PDF ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤:
   ```python
   # ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö PDF text extraction
   print(text[:500])  # ‡πÅ‡∏™‡∏î‡∏á 500 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÅ‡∏£‡∏Å
   ```

3. ‡∏õ‡∏£‡∏±‡∏ö regex ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:
   ```python
   # ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏≠‡∏∑‡πà‡∏ô‡πÜ
   has_year = bool(re.search(
       r'‡∏õ‡∏µ\s*‡∏ó‡∏µ‡πà\s*\d+|‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ\s*\d+|Year\s*\d+',
       text,
       re.IGNORECASE
   ))
   ```

---

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏¢‡∏±‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡∏î
```
üéØ ‡∏û‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£: ‡∏õ‡∏µ 2 ‡∏†‡∏≤‡∏Ñ 1 (3 ‡∏ß‡∏¥‡∏ä‡∏≤)  ‚Üê ‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö!
```

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**: ‡πÅ‡∏°‡πâ‡πÉ‡∏ä‡πâ Table Strategy ‡πÅ‡∏ï‡πà‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô 3000 chars

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
1. ‡πÄ‡∏û‡∏¥‡πà‡∏° chunk_size:
   ```python
   self.table_splitter = RecursiveCharacterTextSplitter(
       chunk_size=4000,  # ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 3000 ‚Üí 4000
       chunk_overlap=600
   )
   ```

2. ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏±‡∏ö separator:
   ```python
   separators=[
       "\n\n‡∏õ‡∏µ‡∏ó‡∏µ‡πà ",          # ‡∏ï‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏õ‡∏µ
       "\n\n‡∏†‡∏≤‡∏Ñ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ó‡∏µ‡πà ", # ‡∏ï‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏†‡∏≤‡∏Ñ (‡∏£‡∏∞‡∏ß‡∏±‡∏á!)
       ...
   ]
   ```

---

## ‡∏™‡∏£‡∏∏‡∏õ

### ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á:

1. ‚úÖ **‡πÅ‡∏¢‡∏Å‡πÄ‡∏ä‡πá‡∏Ñ year ‡πÅ‡∏•‡∏∞ semester** (‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô)
   ```python
   has_year and has_semester  # ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
   ```

2. ‚úÖ **‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢**
   ```python
   r'‡∏õ‡∏µ\s*‡∏ó‡∏µ‡πà\s*\d+|‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ\s*\d+|Year\s*\d+'
   ```

3. ‚úÖ **‡∏•‡∏î‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô**
   ```python
   is_table = (score >= 2 and has_multiple_courses) or score >= 3
   ```

4. ‚úÖ **‡πÄ‡∏û‡∏¥‡πà‡∏° debug logs**
   ```python
   print(f"üîç Preview: {text[:200]}...")
   ```

### ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:
- ‚úÖ Classifier ‡∏à‡∏±‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÑ‡∏î‡πâ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏Ç‡∏∂‡πâ‡∏ô
- ‚úÖ ‡πÉ‡∏ä‡πâ Table Strategy (3000/500) ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- ‚úÖ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏£‡∏ö‡πÉ‡∏ô 1 chunk
- ‚úÖ LLM ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏£‡∏ö 8 ‡∏ß‡∏¥‡∏ä‡∏≤

---

**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏°‡∏∑‡πà‡∏≠**: 2024-10-06  
**‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ**: 
- `src/content_classifier.py` (‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 45-90)
- `src/dynamic_text_splitter.py` (‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 87-95)
